<template>
    <h3 class="text-center my-4">
        ${recipes.length} Recipes Found
    </h3>
    <search-area>
        <div class="my-2 text-center">
            <form>
                <label>Search Recipes</label><br>
                <input type="text" value.bind="search" class="border rounded px-2 py-1" />
            </form>
        </div>
    </search-area>
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2 px-2 text-center">
        <div repeat.for="recipe of recipes">
            <div class="bg-zinc-800 rounded shadow p-2">
                <div class="unique-text">
                    ${recipe.Description}
                </div>
                <!-- Show class between note and the first input when present -->
                <div class="requirement" if.bind="recipe.Class">(${recipe.Class} Only)</div>
                <!-- Render inputs as individual lines; no value converter needed -->
                <div class="description" repeat.for="inp of recipe.Inputs">${inp}</div>

                <div class="unique-text">=</div>

                    <div class="output-block" repeat.for="blk of recipe.OutputBlocks">
                        <div class="output-title">${blk.lineOne}</div>
                        <div repeat.for="prop of blk.properties" class="enhanced output-prop">${prop}</div>
                        <div if.bind="blk.chanceText" class="requirement output-prop">${blk.chanceText}</div>
                    </div>
                </div>
            </div>
        </div>
    </template>